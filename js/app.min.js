(()=>{"use strict";var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",function(e="max"){const t="_dynamic_adapt_",o="data-da",c=function(){const t=[];return[...document.querySelectorAll(`[${o}]`)].forEach((e=>{const c=e.getAttribute(o),[r,n,i]=c.split(",").map((e=>e.trim())),s=document.querySelector(r);var a;s&&t.push({parent:e.parentElement,element:e,to:s,breakpoint:n??"767",order:void 0!==i?(a=i,isNaN(a)?i:Number(i)):"last",index:-1})})),function(t){const o="min"===e?1:0;return[...t].sort(((e,t)=>e.breakpoint===t.breakpoint?e.order===t.order?0:"first"===e.order||"last"===t.order?-1*o:"last"===e.order||"first"===t.order?1*o:0:(e.breakpoint-t.breakpoint)*o))}(t)}();[...new Set(c.map((({breakpoint:t})=>`(${e}-width: ${t}px),${t}`)))].map((e=>{const[t,o]=e.split(",");return{query:t,breakpoint:o}})).forEach((e=>{const o=window.matchMedia(e.query),r=function(e,o){return function(){e.matches?(o.forEach((e=>{!function(e){const{to:o,element:c,order:r}=e;e.index=function(e,t){return[...t.children].indexOf(e)}(e.element,e.element.parentElement),c.classList.add(t),"last"===r||r>=o.children.length?o.append(c):"first"!==r?o.children[r].before(c):o.prepend(c)}(e)})),o.reverse()):(o.forEach((e=>{e.element.classList.contains(t)&&function(e){const{parent:o,element:c,index:r}=e;c.classList.remove(t),r>=0&&o.children[r]?o.children[r].before(c):o.append(c)}(e)})),o.reverse())}}(o,c.filter((({breakpoint:t})=>t===e.breakpoint)));o.addEventListener("change",r),r()}))}(),((e=".header__burger",t=".header__nav")=>{const o=document.querySelector(e),c=document.querySelector(t);o&&c&&(o.addEventListener("click",(()=>{o.classList.contains("_active")?(o.classList.remove("_active"),c.classList.remove("_active")):(o.classList.add("_active"),c.classList.add("_active"))})),window.addEventListener("scroll",(()=>{o.classList.remove("_active"),c.classList.remove("_active")})))})(),((e=".link-scroll")=>{const t=document.querySelectorAll(e),o=document.querySelector(".header__body");Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight),t.length&&t.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const c=e.getAttribute("href"),r=document.querySelector(c);if(!r)return;const n=r.offsetTop-(o?o.clientHeight+20:0);window.scrollTo({top:n,behavior:"smooth"})}))}))})(),(e=>{const t=document.querySelectorAll(".deadlines-submission__date");if(t.length){let e=Array.from(t).map((e=>e.getBoundingClientRect().width)),o=Math.max(...e);t.length&&t.forEach((e=>{e.style.minWidth=o+"px"}))}})();const o=document.querySelector(".intro"),c=document.querySelector(".header");if(o){const e=c.clientHeight||100;o.style.cssText=`padding-top: ${e}px;`}new class{constructor(e,t){this.options=Object.assign({isOpen:()=>{},isEvent:()=>{},onClose:()=>{},isAccordion:!0,initMaxWidth:0},t),this.accordWrapper=document.querySelector(e),this.accordSelector=t.btnSelector||"._my-accordion",this.accordBtnSelector=t.btnSelector||"._my-accordion-controler",this.accordContentSelector=t.contentSelector||"._my-accordion-content",this.accordWrapper&&(this.accords=this.accordWrapper.querySelectorAll(this.accordSelector),this.accordBtns=this.accordWrapper.querySelectorAll(this.accordBtnSelector),this.accordContents=this.accordWrapper.querySelectorAll(this.accordContentSelector),this.check()&&(this.init(),this.events()))}check(){return this.accords.forEach((e=>{const t=document.querySelector(this.accordBtnSelector),o=document.querySelector(this.accordContentSelector);return t?o?void 0:(console.log(e,`Здесь ${e} не найден ._my-accordion-content`),!1):(console.log(e,`Здесь ${e} не найден ._my-accordion-controler`),!1)})),!0}init(){this.accords=this.accordWrapper.querySelectorAll(this.accordSelector),this.accordBtns=this.accordWrapper.querySelectorAll(this.accordBtnSelector),this.accordContents=this.accordWrapper.querySelectorAll(this.accordContentSelector),this.accords.forEach((e=>e.classList.remove("_open")))}events(){this.accordWrapper.addEventListener("click",(e=>{if(e.target.closest(this.accordBtnSelector)){const t=e.target.closest(this.accordSelector),o=(t.querySelector(this.accordBtnSelector),t.querySelector(this.accordContentSelector));if(this.options.initMaxWidth&&!window.matchMedia(`(max-width: ${this.options.initMaxWidth}px)`).matches)return;t.classList.contains("_open")?(t.classList.remove("_open"),o.style.maxHeight=null,this.options.onClose(t)):(this.open(t,o),this.options.isOpen(e))}this.options.isEvent(e)})),window.addEventListener("resize",(()=>{let e=window.innerWidth;this.options.initMaxWidth&&this.options.initMaxWidth>e&&this.accords.forEach((e=>e.classList.remove("_open")))}))}open(e,t){this.options.isAccordion&&this.close(),e.classList.add("_open"),t.style.maxHeight=t.scrollHeight+"px"}close(){this.accords.forEach((e=>e.classList.remove("_open"))),this.accordBtns.forEach((e=>e.classList.remove("_open"))),this.accordContents.forEach((e=>{e.classList.remove("_open"),e.style.maxHeight=null}))}}(".main",{}),ymaps.ready((()=>{if(!document.querySelector("#ymaps"))return;const e=document.querySelectorAll(".map__item"),t=e[0].getAttribute("data-coordinates").split(",").map((e=>Number(e))),o=new ymaps.Map("ymaps",{center:t,zoom:15},{});o.controls.remove("geolocationControl"),o.controls.remove("trafficControl"),o.controls.remove("fullscreenControl"),o.controls.remove("rulerControl"),e&&e.length&&Array.from(e).map(((e,t)=>new Promise((c=>{const r=e.getAttribute("data-coordinates").split(",").map((e=>Number(e))),n=e.querySelector(".map__item_title"),i=e.querySelector(".map__item_content address"),s=e.querySelector(".map__item_content span");let a=new ymaps.Placemark(r,{balloonContentHeader:n?n.textContent:"",balloonContentBody:i?i.textContent:"",balloonContentFooter:s?s.textContent:""},{iconContentLayout:ymaps.templateLayoutFactory.createClass(`<div class="map__icon ${0===t?"_active":""}" data-index="${t}">\n                    <div class="map__icon_content"></div>\n                </div>`)});a.events.group().add("click",(e=>{const c=e.get("target").geometry.getCoordinates(),r=document.querySelector(`.map__icon[data-index="${t}"]`),n=document.querySelector(".map__icon._active");o.setCenter(c,16,{flying:!0,duration:500}),r!==n&&(r&&r.classList.add("_active"),n&&n.classList.remove("_active"))})),e.addEventListener("click",(()=>{const c=e.getAttribute("data-coordinates").split(",").map((e=>Number(e))),r=document.querySelector(".map__item._active"),n=document.querySelector(`.map__icon[data-index="${t}"]`),i=document.querySelector(".map__icon._active");o.balloon.close(),o.setCenter(c,16,{flying:!0,duration:500}),r&&r.classList.remove("_active"),e&&e.classList.add("_active"),n&&n.classList.add("_active"),i&&i.classList.remove("_active")})),o.geoObjects.add(a),c(a)}))))}));const r=document.querySelectorAll(".reception__button-tab");r.length&&r.forEach((e=>{e.addEventListener("click",(()=>{const t=document.querySelector(".reception__button-tab._active");t!==e&&(t.classList.remove("_active"),e.classList.add("_active"))}))}))})();